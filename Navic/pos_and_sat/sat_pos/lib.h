
#include<stdio.h>
#include<stdlib.h>
#include<malloc.h>




int *genNavicCaCode(int s)
{

int i,j;
int L5[28][10]={{1,1,1,0,1,0,0,1,1,1},
	    {0,0,0,0,1,0,0,1,1,0},
	    {1,0,0,0,1,1,0,1,0,0},
	    {0,1,0,1,1,1,0,0,1,0},
	    {1,1,1,0,1,1,0,0,0,0},
	    {0,0,0,1,1,0,1,0,1,1},
	    {0,0,0,0,0,1,0,1,0,0},
	    {0,1,0,0,1,1,0,0,0,0},
	    {0,0,1,0,0,1,1,0,0,0},
	    {1,1,0,1,1,0,0,1,0,0},
	    {0,0,0,1,0,0,1,1,0,0},
	    {1,1,0,1,1,1,1,1,0,0},
	    {1,0,1,1,0,1,0,0,1,0},
	    {0,1,1,1,1,0,1,0,1,0},
	    {0,0,1,1,1,0,1,1,1,1},
	    {0,1,0,1,1,1,1,1,0,1},
	    {1,0,0,0,1,1,0,0,0,1},
	    {0,0,1,0,1,0,1,0,1,1},
	    {1,0,1,0,0,1,0,0,0,1},
	    {0,1,0,0,1,0,1,1,0,0},
	    {0,0,1,0,0,0,1,1,1,0},
	    {0,1,0,0,1,0,0,1,1,0},
	    {1,1,0,0,0,0,1,1,1,0},
	    {1,0,1,0,1,1,1,1,1,0},
	    {1,1,1,0,0,1,0,0,0,1},
	    {1,1,0,1,1,0,1,0,0,1},
	    {0,1,0,1,0,0,0,1,0,1},
	    {0,1,0,0,0,0,1,1,0,1}};

int G1[10],G2[10],c1[1024],c2[1024];

int *CA;

CA=(int *)malloc(1024*sizeof(int));

int *a;
a=(int*)malloc(1*sizeof(int));
a[0]=1;

for(i=0;i<10;i++)
{
	G1[i] = 1;
}
if (s<0 || s>28)
{
	return a;
}
else if (s<28)
{
for(i=0;i<10;i++)
{
G2[i] = L5[s][i];
}
}

int k, temp;
for(k=0;k<1024;k++)
{
c1[k]=G1[9];
temp = G1[2]^G1[9];;
for (i = 9; i > 0; i--) 
{
G1[i] = G1[i - 1];    
}
G1[0] = temp;
}


for(k=0;k<1024;k++)
{
c2[k]=G2[9];
temp = G2[1]^G2[2]^G2[5]^G2[7]^G2[8]^G2[9];
for (i = 9; i > 0; i--) 
{
G2[i] = G2[i - 1];    
}

G2[0] = temp;
}


for(j=0;j<1023;j++)
{
CA[j]=c1[j]^c2[j];
}

return CA;
}
